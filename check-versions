#!/bin/bash

set -eu

if [ $# -ne 1 ]; then
    echo "nginx docker td-agent ansible packer peco hub jd proxysql boostnote"
    exit
fi

case $1 in
    "nginx" ) echo "https://nginx.org/en/CHANGES";
	      curl -s http://nginx.org/en/CHANGES | grep Changes | head -n 10 ;;

    "docker" ) curl -s https://apt.dockerproject.org/repo/dists/ubuntu-xenial/main/binary-amd64/Packages | grep Version ;;

    "td-agent" ) curl -s http://packages.treasuredata.com.s3.amazonaws.com/2/ubuntu/xenial/dists/xenial/contrib/binary-amd64/Packages | grep Version ;;

    "ansible") curl -s https://api.github.com/repos/ansible/ansible/tags | jq -r '.[].name' | head -n 10 ;;

    "packer") curl -s https://api.github.com/repos/mitchellh/packer/tags | jq -r '.[].name' | head -n 10 ;;

    "peco") curl -s https://api.github.com/repos/peco/peco/tags | jq -r '.[].name' | head -n 10 ;;

    "hub") curl -s https://api.github.com/repos/github/hub/tags | jq -r '.[].name' | head -n 10 ;;

    "jd") curl -s https://api.github.com/repos/tidwall/jd/tags | jq -r '.[].name' | head -n 10 ;;

    "proxysql") echo "https://github.com/sysown/proxysql/releases";
		curl -s https://api.github.com/repos/sysown/proxysql/tags | jq -r '.[].name' | head -n 10 ;;

    "boostnote") echo "https://github.com/BoostIO/boost-releases";
		curl -s https://api.github.com/repos/BoostIO/Boostnote/tags | jq -r '.[].name' | head -n 10 ;;

esac
